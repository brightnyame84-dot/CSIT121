<!DOCTYPE html>
<html>
<head>
    <title>Employee Directory Toggle</title>
    <script>
        let isOpen = false;

        function toggleEmployees() {
            const table = document.getElementById("employeeTable");
            const button = document.getElementById("toggleButton");

            if (!isOpen) {
                var xhttp = new XMLHttpRequest();
                xhttp.onreadystatechange = function() {
                    if (this.readyState == 4 && this.status == 200) {
                        displayEmployees(this);
                        table.style.display = "table";
                        button.textContent = "Close Employee Data";
                        isOpen = true;
                    }
                };
                xhttp.open("GET", "employee.xml", true);
                xhttp.send();
            } else {
                table.style.display = "none";
                button.textContent = "Get Employee Data";
                isOpen = false;
            }
        }

        function displayEmployees(xml) {
            var i;
            var xmlDoc = xml.responseXML;
            var table="<tr><th>ID</th><th>First Name</th><th>Last Name</th><th>Title</th><th>Division</th><th>Building</th><th>Room</th></tr>";
            var employees = xmlDoc.getElementsByTagName("employee");
            for (i = 0; i < employees.length; i++) { 
                table += "<tr><td>" +
                employees[i].getAttribute("id") + "</td><td>" +
                employees[i].getElementsByTagName("firstname")[0].childNodes[0].nodeValue + "</td><td>" +
                employees[i].getElementsByTagName("lastname")[0].childNodes[0].nodeValue + "</td><td>" +
                employees[i].getElementsByTagName("title")[0].childNodes[0].nodeValue + "</td><td>" +
                employees[i].getElementsByTagName("division")[0].childNodes[0].nodeValue + "</td><td>" +
                employees[i].getElementsByTagName("building")[0].childNodes[0].nodeValue + "</td><td>" +
                employees[i].getElementsByTagName("room")[0].childNodes[0].nodeValue + "</td></tr>";
            }
            document.getElementById("employeeTable").innerHTML = table;
        }
    </script>
</head>
<body>
    <h2>Employee Directory</h2>
    <button id="toggleButton" onclick="toggleEmployees()">Get Employee Data</button>
    <table id="employeeTable" border="1" style="display:none"></table>
</body>
</html>
